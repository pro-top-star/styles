@import "./../settings";
@import "./../mixins";
@import "./../icons/mixins";
@import "./../functions";

//LOCAL VARS (set all themeable properties, always include !default)
$fd-popover-border: solid 1px $fd-forms-border-color !default;
$fd-popover-z-index: 2 !default;
$fd-popover-background-color: fd-color(background, 2) !default;
$fd-popover-box-shadow: 0 0 2px 0 rgba(fd-color(neutral, 2), 1), 0 2px 14px 0 rgba(fd-color(neutral, 2), 1) !default;
$fd-popover-transition-params: $fd-animation--speed !default;

$block: #{$fd-namespace}-popover;
.#{$block} {
    @include fd-reset;
    position: relative;
    display: inline-block;

    &__control {
      position: relative;
      margin-left: 0;
      cursor: pointer;
    }
    &__body {
      border: $fd-popover-border;
      position: absolute;
      white-space: nowrap;
      z-index: $fd-popover-z-index;
      border-radius: $fd-border-radius;
      background-color: $fd-popover-background-color;
      box-shadow: $fd-popover-box-shadow;
      opacity: 1;
      visibility: visible;
      transition: opacity $fd-popover-transition-params;
      overflow: hidden;
      left: 0;

      &--left {
        right: auto;
        left: 0;
      }

      &--right {
        left: auto;
        right: 0;
      }

      &[aria-hidden="true"],
      &.is-hidden {
          opacity: 0;
          visibility: hidden;
      }
    }
}

// RTL Styles (Considers Body, Shell Header, and Self)
body[dir=rtl],
.#{$fd-namespace}-shell-header[dir=rtl],
.#{$block}[dir=rtl] {
    .#{$block}{
        // Reverse the default positioning
        &__body {
          left: auto;
          right: 0;

          // Reverse the modified positioning
          &--left {
            right: 0;
            left: auto;
          }
          &--right {
            right: auto;
            left: 0;
          }
        }
    }
}
