{% import "./../utils.njk" as utils %}
{% from "./../popover/component.njk" import popover %}
{% from "./../menu/component.njk" import menu %}
{% from "./../button/component.njk" import button %}

<!--
shell_header_title_menu:
    properties={
        "title": "",
        "items": []
    },
    modifier={ block: [] },
    state={},
    aria={}
-->

{% macro shell_header_title_menu(
    properties={},
    state={},
    aria={},
    classes=[])
-%}

{%- set _id = utils.id() %}

<div class="fd-shellbar__title-menu">
    {{  popover(properties={
            id: _id,
            control: shell_header_title_menu_control(properties={ "title": properties.title }, aria={ "controls": _id, "haspopup": true, "expanded": false}),
            body: menu(properties={
                "items": properties.items
            })
        }, modifier={ block: ['right'] })
    }}
</div>

{%- endmacro %}


{%- macro shell_header_title_menu_control(properties={}, modifier={}, state={}, aria={}) -%}
    <div class="fd-shellbar__title"{{ aria | aria }}>{{ properties.title }}</div>
{%- endmacro -%}
