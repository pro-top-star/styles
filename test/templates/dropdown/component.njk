{% import "./../utils.njk" as utils %}
{% from "./../icon/component.njk" import icon %}
{% from "./../dropdown/component.njk" import popover_body %}

<!--
dropdown:
    properties={},
    modifier={ block: [] },
    state={},
    aria={}
-->
{%- macro dropdown(properties={}, modifier={}, state={}, aria={}) %}

{%- set _id = utils.id() %}

{%- set btn_size_class = " fd-button--"+modifier.block if modifier.block and modifier.block !== "default" else "" %}
<div class="fd-dropdown{{ modifier.block | modifier('dropdown') }}">
    <button class="fd-dropdown__control{{ modifier.control | modifier('dropdown__control') }} fd-button--{{modifier.button if modifier.button else 'toolbar'}}{{ btn_size_class }}{{ " sap-icon--"+properties.icon if properties.icon }}" aria-controls="{{ _id }}" aria-expanded="false" aria-haspopup="true"{{ " disabled" if state.disabled }}{{ aria | aria }}>
        {{ properties.label }}
    </button>
    {{ popover_body({ body: properties.body, id: _id }) }}
</div>
{%- endmacro %}

