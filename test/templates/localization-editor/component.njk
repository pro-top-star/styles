{% from "./../popover/component.njk" import popover %}
{% from "./../menu/component.njk" import menu %}
{% from "./../input-group/component.njk" import input_group %}
{% from "../button/component.njk" import button %}
{% import "./../utils.njk" as utils %}
<!--
localization_editor:
    properties={},
    modifier={ block: [] },
    state={},
    aria={}
-->
{%- set _id = utils.id() %}

{% macro localization_editor_item(properties={}) %}
{{ input_group(
    properties={
        after: properties.language,
        input: {
            properties: {
                placeholder: "Enter Label"
            }
        }
    },
    modifier={
        block: ["after"],
        after: "after"
    })
}}
{% endmacro %}

{% macro localization_editor_main_item(properties={}) %}
{{ input_group(
    properties={

        after: button(
                properties={ label: 'EN*' },
                modifier={ block: ['secondary', 'compact'] },
                aria={ controls: _id, expanded: false, haspopup: true }
                ),
        input: {
            properties: {
                placeholder: "Enter Label",
                id: "test"

            },
            aria: {
                controls: _id,
                expanded: false,
                haspopup: true
            }
        }
    },
    modifier={
        after: ["after", "button"],
        block: "after"
    })
}}
{% endmacro %}

{% macro localization_body(properties={id: _id}) %}
<nav class="fd-menu">
    <ul class="fd-menu__list fd-localization-editor__list">
        <li>
            {{ localization_editor_item(properties={language: "CH"}) }}
        </li>
        <li>
            {{ localization_editor_item(properties={language: "SP"}) }}
        </li>
        <li>
            {{ localization_editor_item(properties={language: "DE"}) }}
        </li>
        <li>
            {{ localization_editor_item(properties={language: "PL"}) }}
        </li>
    </ul>
</nav>
{% endmacro %}


{% macro localization_editor(properties={}, modifier={}, state={}, aria={}) -%}
{# <div class="fd-localization-editor{{ modifier.block | modifier('localization-editor') }}{{ state | state }}"{{ aria | aria }} >
    <div class="fd-popover">
        <div class="fd-popover__control" aria-controls="jhqD0558" aria-expanded="false" aria-haspopup="true">
            {{ localization_editor_main_item(properties={language: "CH"}) }}
        </div>
        <div class="fd-popover__body" aria-hidden="true" id="jhqD0558">
        </div>
    </div>
</div> #}

{{  popover(properties={
    id: _id,
    control: localization_editor_main_item(properties={id: _id, language: "CH"}),
    body: localization_body()
  })
}}
{%- endmacro %}
