
<!--
nav:
    properties={},
    modifier={ block: [] },
    state={},
    aria={}
-->

{%- macro navitem(properties={}, modifier={}, state={}, aria={}, classes="") -%}
    <li class="fd-nav__item{{ modifier.item | modifier('nav__item') }}">
        {%- set state = { selected: properties.selected, disabled: properties.disabled } %}
        {%- set aria = {} %}
        {%- if properties.selected %}
            {%- set aria = { selected: properties.selected } %}
        {%- elif properties.disabled %}
            {%- set aria = { disabled: properties.disabled } %}
        {%- endif %}
        <a class="fd-nav__link{{ modifier.link | modifier('nav__link') }}{{ state | state }}"{{ aria | aria }} href="{{ item.href or '#' }}">{{ properties.label }}</a>
    </li>
{%- endmacro %}

{%- macro navgroup(properties={ }) -%}
    <ul class="fd-nav__group{{ modifier.item | modifier('nav__group') }}">
        {%- for item in properties.items %}
            {{ navitem(item) }}
        {%- endfor -%}
    </ul>
{%- endmacro %}

{% macro nav(properties={ items: [] }, modifier={}, state={}, aria={}, classes="") -%}
    <ul class="fd-nav{{ modifier.block | modifier('nav') }}{{ state | state }}{{ classes | classes }}"{{ aria | aria }}>
        {%- for item in properties.items %}
            {%- if item.items %}
                {{ navitem(item) }}
                {{ navgroup(item) }}
            {%- else %}
                {{ navitem(item) }}
            {%- endif %}
        {%- endfor %}
    </ul>
{%- endmacro %}
